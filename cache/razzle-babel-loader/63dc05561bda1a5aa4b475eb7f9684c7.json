{"ast":null,"code":"var _jsxFileName = \"I:\\\\developpement\\\\Js\\\\seiryu\\\\src\\\\pages\\\\AuthPages\\\\SignInPage\\\\SignInPage.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// CORE START\nimport React, { useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport { ErrorMessage } from '@hookform/error-message'; // ASSETS START\n\nimport LandingPicturePath from \"@images/common/landing/ian-gonzalez-1.jpg\"; // UI START\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Link from '@material-ui/core/Link';\nimport Paper from '@material-ui/core/Paper';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useLoginUser from \"./hooks/useLoginUser\";\nimport { useMutation, useQuery } from \"react-query\";\nimport HttpClient from \"@core/httpClient\";\nimport * as yup from 'yup';\nimport { ROUTE_API_LOGIN_CHECK } from \"@core/routes\";\nimport { Http } from \"@material-ui/icons\"; // CORE END\n// ASSETS END\n// UI END\n// CONFIG START\n\nvar loginSchema = yup.object().shape({\n  email: yup.string().email().required(),\n  password: yup.string().required()\n}); // CONFIG END\n// LINKED LOCAL MODULES START\n\nfunction Copyright() {\n  return __jsx(Typography, {\n    variant: \"body2\",\n    color: \"textSecondary\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, 'Copyright © ', __jsx(Link, {\n    color: \"inherit\",\n    href: \"https://material-ui.com/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"Drazah\"), ' ', new Date().getFullYear(), '.');\n} // LINKED LOCAL MODULES END\n// STYLE START\n\n\n_c = Copyright;\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      height: '100vh'\n    },\n    image: {\n      backgroundImage: 'url(' + LandingPicturePath + ')',\n      backgroundRepeat: 'no-repeat',\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n      backgroundSize: 'cover',\n      backgroundPosition: 'center'\n    },\n    paper: {\n      margin: theme.spacing(8, 4),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main\n    },\n    form: {\n      width: '100%',\n      // Fix IE 11 issue.\n      marginTop: theme.spacing(1)\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2)\n    }\n  };\n}); // STYLE END\n// MAIN MODULE START\n\nvar SigninPage = function SigninPage() {\n  _s();\n\n  var classes = useStyles();\n\n  var _useForm = useForm({\n    criteriaMode: \"all\"\n  }),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      setError = _useForm.setError,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useQuery = useQuery('users', function () {\n    return HttpClient.get('https://eternity.test/api/users');\n  }),\n      data = _useQuery.data;\n\n  var loginAction = useMutation(function (loginParams) {\n    return HttpClient.post(ROUTE_API_LOGIN_CHECK, loginParams);\n  });\n\n  var onSubmit = function onSubmit(loginData) {\n    if (loginSchema.validate(loginData)) {\n      loginAction.mutate(loginData);\n    }\n  };\n\n  return __jsx(Grid, {\n    container: true,\n    component: \"main\",\n    className: classes.root,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, __jsx(CssBaseline, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }), __jsx(Grid, {\n    item: true,\n    xs: false,\n    sm: 4,\n    md: 7,\n    className: classes.image,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }), __jsx(Grid, {\n    item: true,\n    xs: 12,\n    sm: 8,\n    md: 5,\n    component: Paper,\n    elevation: 6,\n    square: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: classes.paper,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, __jsx(Avatar, {\n    className: classes.avatar,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, __jsx(LockOutlinedIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  })), __jsx(Typography, {\n    component: \"h1\",\n    variant: \"h5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, \"Se connecter\"), __jsx(\"form\", {\n    className: classes.form,\n    onSubmit: handleSubmit(function (data) {\n      return onSubmit(data);\n    }),\n    noValidate: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, __jsx(TextField, {\n    error: !!errors.email,\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    id: \"email\",\n    label: \"Adresse Email\",\n    name: \"email\",\n    autoComplete: \"email\",\n    autoFocus: true,\n    inputRef: register({\n      required: \"Ce champs est obligatoire\",\n      pattern: {\n        value: /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/,\n        message: \"Ce n'est pas un format d'Email valide\"\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 29\n    }\n  }), __jsx(ErrorMessage, {\n    errors: errors,\n    name: \"email\",\n    render: function render(_ref) {\n      var messages = _ref.messages;\n      var errorArray = [];\n\n      if (messages) {\n        for (var _i = 0, _Object$entries = Object.entries(messages); _i < _Object$entries.length; _i++) {\n          var message = _Object$entries[_i];\n          errorArray.push(message[1]);\n        }\n      }\n\n      return messages ? errorArray.map(function (message, key) {\n        return __jsx(\"p\", {\n          key: key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 45\n          }\n        }, message);\n      }) : null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }), __jsx(TextField, {\n    error: !!errors.email,\n    variant: \"outlined\",\n    margin: \"normal\",\n    required: true,\n    fullWidth: true,\n    name: \"password\",\n    label: \"Password\",\n    type: \"password\",\n    id: \"password\",\n    autoComplete: \"current-password\",\n    inputRef: register({\n      required: \"Ce champs est obligatoire\"\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }), __jsx(ErrorMessage, {\n    errors: errors,\n    name: \"password\",\n    render: function render(_ref2) {\n      var messages = _ref2.messages;\n      var errorArray = [];\n\n      if (messages) {\n        for (var _i2 = 0, _Object$entries2 = Object.entries(messages); _i2 < _Object$entries2.length; _i2++) {\n          var message = _Object$entries2[_i2];\n          errorArray.push(message[1]);\n        }\n      }\n\n      return messages ? errorArray.map(function (message, key) {\n        return __jsx(\"p\", {\n          key: key,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 45\n          }\n        }, message);\n      }) : null;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 29\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    className: classes.submit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 29\n    }\n  }, false === false ? 'Se connecter' : __jsx(CircularProgress, {\n    style: {\n      'color': 'white'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 41\n    }\n  })), __jsx(Box, {\n    mt: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 29\n    }\n  }, __jsx(Copyright, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }))))));\n}; // MAIN MODULE END\n\n\n_s(SigninPage, \"NqYO9290bd1eOD6xdSbfX9DcD9g=\", false, function () {\n  return [useStyles, useForm, useQuery, useMutation];\n});\n\n_c2 = SigninPage;\nexport default SigninPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Copyright\");\n$RefreshReg$(_c2, \"SigninPage\");","map":{"version":3,"sources":["I:/developpement/Js/seiryu/src/pages/AuthPages/SignInPage/SignInPage.js"],"names":["React","useEffect","useForm","ErrorMessage","LandingPicturePath","Avatar","Button","CssBaseline","TextField","CircularProgress","Link","Paper","Box","Grid","LockOutlinedIcon","Typography","makeStyles","useLoginUser","useMutation","useQuery","HttpClient","yup","ROUTE_API_LOGIN_CHECK","Http","loginSchema","object","shape","email","string","required","password","Copyright","Date","getFullYear","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SigninPage","classes","criteriaMode","register","errors","setError","handleSubmit","get","data","loginAction","loginParams","post","onSubmit","loginData","validate","mutate","pattern","value","message","messages","errorArray","Object","entries","push","map","key"],"mappings":"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","sourcesContent":["// CORE START\r\nimport React, {useEffect} from 'react';\r\nimport {useForm} from \"react-hook-form\";\r\nimport {ErrorMessage} from '@hookform/error-message';\r\n// ASSETS START\r\nimport LandingPicturePath from \"@images/common/landing/ian-gonzalez-1.jpg\";\r\n// UI START\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport useLoginUser from \"./hooks/useLoginUser\";\r\nimport {useMutation, useQuery} from \"react-query\";\r\nimport HttpClient from \"@core/httpClient\";\r\nimport * as yup from 'yup';\r\nimport {ROUTE_API_LOGIN_CHECK} from \"@core/routes\";\r\nimport {Http} from \"@material-ui/icons\";\r\n// CORE END\r\n// ASSETS END\r\n// UI END\r\n\r\n// CONFIG START\r\nconst loginSchema = yup.object().shape({\r\n    email: yup.string().email().required(),\r\n    password: yup.string().required()\r\n});\r\n// CONFIG END\r\n\r\n// LINKED LOCAL MODULES START\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n                Drazah\r\n            </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\n// LINKED LOCAL MODULES END\r\n\r\n// STYLE START\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(' + LandingPicturePath + ')',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n// STYLE END\r\n\r\n// MAIN MODULE START\r\nconst SigninPage = () => {\r\n\r\n    const classes = useStyles();\r\n    const {register, errors, setError, handleSubmit} = useForm({\r\n        criteriaMode: \"all\"\r\n    });\r\n\r\n    const {data} = useQuery('users',() => {\r\n        return HttpClient.get('https://eternity.test/api/users');\r\n    });\r\n\r\n    const loginAction = useMutation(\r\n        loginParams => {\r\n            return HttpClient.post(ROUTE_API_LOGIN_CHECK, loginParams);\r\n        }\r\n    );\r\n\r\n\r\n    const onSubmit = (loginData) => {\r\n        if (loginSchema.validate(loginData)) {\r\n            loginAction.mutate(loginData);\r\n        }\r\n    }\r\n\r\n        return (\r\n            <Grid container component=\"main\" className={classes.root}>\r\n                <CssBaseline/>\r\n                <Grid item xs={false} sm={4} md={7} className={classes.image}/>\r\n                <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                    <div className={classes.paper}>\r\n                        <Avatar className={classes.avatar}>\r\n                            <LockOutlinedIcon/>\r\n                        </Avatar>\r\n                        <Typography component=\"h1\" variant=\"h5\">\r\n                            Se connecter\r\n                        </Typography>\r\n                        <form className={classes.form} onSubmit={handleSubmit((data) => onSubmit(data))} noValidate>\r\n\r\n                            <TextField\r\n                                error={!!errors.email}\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                label=\"Adresse Email\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                autoFocus\r\n                                inputRef={register({\r\n                                    required: \"Ce champs est obligatoire\",\r\n                                    pattern: {\r\n                                        value: /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/,\r\n                                        message: \"Ce n'est pas un format d'Email valide\"\r\n\r\n                                    }\r\n                                })}\r\n                            />\r\n                            <ErrorMessage\r\n                                errors={errors}\r\n                                name=\"email\"\r\n                                render={({messages}) => {\r\n                                    const errorArray = [];\r\n                                    if (messages) {\r\n                                        for (const message of Object.entries(messages)) {\r\n                                            errorArray.push(message[1]);\r\n                                        }\r\n                                    }\r\n                                    return messages\r\n                                        ? errorArray.map((message, key) => (\r\n                                            <p key={key}>{message}</p>\r\n                                        ))\r\n                                        : null;\r\n                                }}\r\n                            />\r\n                            <TextField\r\n                                error={!!errors.email}\r\n                                variant=\"outlined\"\r\n                                margin=\"normal\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"current-password\"\r\n                                inputRef={register({\r\n                                    required: \"Ce champs est obligatoire\",\r\n                                })}\r\n                            />\r\n                            <ErrorMessage\r\n                                errors={errors}\r\n                                name=\"password\"\r\n                                render={({messages}) => {\r\n                                    const errorArray = [];\r\n                                    if (messages) {\r\n                                        for (const message of Object.entries(messages)) {\r\n                                            errorArray.push(message[1]);\r\n                                        }\r\n                                    }\r\n                                    return messages\r\n                                        ? errorArray.map((message, key) => (\r\n                                            <p key={key}>{message}</p>\r\n                                        ))\r\n                                        : null;\r\n                                }}\r\n                            />\r\n\r\n                            <Button\r\n                                type=\"submit\"\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                className={classes.submit}\r\n                            >\r\n                                {\r\n                                    (false === false) ? 'Se connecter' : (\r\n                                        <CircularProgress style={{'color': 'white'}}/>\r\n                                    )\r\n                                }\r\n\r\n                            </Button>\r\n                            <Box mt={5}>\r\n                                <Copyright/>\r\n                            </Box>\r\n                        </form>\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    };\r\n\r\n// MAIN MODULE END\r\n\r\n\r\n    export default SigninPage;"]},"metadata":{},"sourceType":"module"}